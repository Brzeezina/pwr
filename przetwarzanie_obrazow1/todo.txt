    Wprowadzić strukturę danych opisującą całościowo przechowywany w pamięci obraz. Wykorzystać możliwość dynamicznego ustalania rozmiaru tablic, aby dopasować rozmiar przechowywanych danych do rzeczywistych wymiarów obrazu. Zmodyfikować funkcje programu tak, aby wykorzystywały wprowadzoną strukturę.
    Zmodyfikować dokumentację programu tak, by odpowiadała wprowadzonym powyżej zmianom. Podobnie dokonywać modyfikacji dokumentacji programu po zrealizowaniu każdego z poniżej podanych punktów
    Uzupełnić funkcje o asercje sprawdzające zaproponowane warunki poprawności.
    Dodać do programu obsługę obrazów kolorowych w formacie ppm (P3). Funkcja wczytująca obraz powinna automatycznie rozpoznać typ pliku i dostosować wielkość alokowanej pamięci, a struktura obrazu – przechowywać informację z jakim obrazem mamy do czynienia.
    Zdefiniować funkcję konwersji do stopni szarości dla obrazów kolorowych: każdy punkt nowego obrazu jest średnią arytmetyczną wartości składowych kolorów. Przekonwertowany obraz powinien być zapisywany w formacie PGM (opcjonalnie: do wyboru użytkownika PGM lub PPM).
    Zastąpić menu użytkownika, wykorzystując argumenty wywołania programu. Program powinien rozpoznawać opcje wybrane z poniższych (wskazane przez prowadzącego):
        -i <nazwa_pliku> nazwa pliku do wczytania (jeśli zamiast nazwy podany będzie znak '-' to zamiast z pliku obraz powinien być wczytywany ze standardowego wejścia;
        -o <nazwa_pliku> nazwa pliku do zapisu (jeśli zamiast nazwy podany będzie znak '-' to zamiast do pliku obraz powinien być wypisany na standardowym wyjściu;
        -d obraz po przetworzeniu powinien zostać wyświetlony;
        -m <kolor> wybierz kolor do przetwarzania: r – czerwony, g – zielony, b – niebieski, s – konwersja do szarości
    oraz dodatkowo wybrane opcje związane ze zdefiniowanymi funkcjami przetwarzania obrazu:
        -n negatyw;
        -p <próg> progowanie z progiem o zadanej wartości procentowej.
        -pc <próg> progowanie czerni z progiem o zadanej wartości.
        -pb <próg> progowanie bieli z progiem o zadanej wartości.
        -g <współczynnik> korekcja gamma ze współczynnikiem o zadanej wartości.
        -z <czern> <biel> zmiana poziomów
        -k konturowanie;
        -rx rozmywanie poziome;
        -ry rozmywanie pionowe;
        -h rozciąganie histogramu;
        -s s12 s12 s13 s21 s22 s23 s31 s32 s33 splot;
    Kolejność w jakiej mogą wystąpić opcje jest dowolna. Opcja -i musi się pojawić przy wywołaniu programu. Jej brak, tak jak i brak nazw plików po opcjach -i, -o oraz wartości progu po -p powinny spowodować odpowiedni komunikat o błędzie. Brak opcji -o oznacza wypisanie obrazu na standardowym wyjściu. W programie można wykorzystać odpowiednio zmodyfikowaną funkcję z pliku opcje.c.
